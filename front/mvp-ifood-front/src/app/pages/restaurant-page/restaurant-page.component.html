<app-header [showSearch]="false"></app-header>

<div class="w-full min-h-screen" *ngIf="restaurant">
    <div class="relative w-full h-60 bg-gray-200">
        <img [src]="getSanitizedImage(restaurant!.banner)" alt="Banner" class="w-full h-full object-cover">

        <div class="absolute bottom-[-40px] left-6 w-32 h-32 border-gray-700 border-2 bg-white rounded-lg shadow-lg overflow-hidden">
            <img [src]="getSanitizedImage(restaurant!.picture)" alt="Restaurant Picture"
                class="w-full h-full object-cover">
        </div>
    </div>

    <div class="mt-12 px-6">
        <h1 class="text-2xl font-bold">{{ restaurant!.name }}</h1>
        <p class="text-gray-600 mt-1">{{ restaurant!.description }}</p>
        <div class="flex items-center mt-2">
            <ng-container *ngFor="let star of getStars(restaurant!.rating); let i = index">
                <i *ngIf="star === 'full'" class="bx bxs-star text-red-500 text-xl"></i>
                <i *ngIf="star === 'half'" class="bx bxs-star-half text-red-500 text-xl"></i>
                <i *ngIf="star === 'empty'" class="bx bx-star text-gray-400 text-xl"></i>
            </ng-container>
            <span class="ml-2 text-red-600 font-bold">{{ restaurant!.rating.toFixed(1) }}</span>
        </div>

        <div class="mt-4 p-2 rounded-md shadow-md bg-gray-100">
            <p><strong>📍 Endereço:</strong> {{ restaurant!.address }}</p>
            <p><strong>📞 Telefone:</strong> {{ restaurant!.telephone }}</p>
        </div>
        <div *ngIf="restaurantProducts" class="mt-8">
            <app-product-list [products]="restaurantProducts" label="Produtos deste restaurante"></app-product-list>
        </div>
        <div *ngIf="restaurantProducts?.length === 0" class="mt-8 text-center">
            <p class="text-gray-600">Este restaurante ainda não possui produtos cadastrados</p>
        </div>
    </div>
</div>
<div class="mt-8">
    <app-footer></app-footer>
</div>